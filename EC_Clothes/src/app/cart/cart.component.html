<div class="header">
    <p (click) ="returnToHP()" class="logo">Clothes E-Commerce </p>
    <a (click)="returnToHP()" class="category">Accessories </a>
    <a (click)="returnToHP()" class="category">Outerwear </a>
    <a (click)="returnToHP()" class="category">Top </a>
    <a (click)="returnToHP()" class="category">Bottom </a>
    <a (click)="returnToHP()" class="category">Shoes </a>


    <div class="header-right" *ngIf = 'loggedIn'>
      <a href="/cart"><i class="fas fa-cart-shopping" style="font-size:30px;"></i></a>
      <a href="/profile">{{currentCustomer?.name}}</a>
      <a (click)="logout()" class ='category'>Log out</a>
    </div>

    <div class="header-right" *ngIf = '!loggedIn'>
      <a href="/customer-login">Login</a>
    </div>
</div>

<div class = container style ="margin-top: 30px;">
    <div class ="headerTitle">
        Your cart
    </div>
    <div class="col-md-12" style ="margin-top: 50px; " *ngIf = 'cart'>

          <table mat-table [dataSource]="cart" class="mat-elevation-z8">
      
              <ng-container matColumnDef="Name">
                <th mat-header-cell *matHeaderCellDef>  Name </th>
                <td mat-cell *matCellDef="let element"> {{element.product_name}} </td>
              </ng-container>
            
              <ng-container matColumnDef="Price">
                <th mat-header-cell *matHeaderCellDef> Price </th>
                <td mat-cell *matCellDef="let element"> {{element.price}} </td>
              </ng-container>
            
              <ng-container matColumnDef="Amount">
                <th mat-header-cell *matHeaderCellDef> Amount </th>
                <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
              </ng-container>

              <ng-container matColumnDef="Remove">
                <th mat-header-cell *matHeaderCellDef>  </th>
                <td mat-cell *matCellDef="let element"> 
                  <button mat-icon-button (click)="removeFromCart(element.id)">
                     <mat-icon>close</mat-icon>
                  </button>
              </td>
              </ng-container>
            
              <tr mat-header-row *matHeaderRowDef="cartColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: cartColumns;"></tr>
            </table>

            <div fxLayout="row" fxLayoutAlign ="center">    
                <div style ="margin-top: 30px;">
                <p>Total: ${{transaction?.total}}</p>
                <button mat-raised-button color="accent" (click)="checkout($event)">Checkout</button>    
                </div>            
              </div>
      </div>

      <div class="col-md-12" style ="margin-top: 50px; " *ngIf = '!cart'>
        <div fxLayout="row" fxLayoutAlign ="center">
            <div style ="margin-top: 30px;">
            <h2>No item in cart</h2>
            </div>            
          </div>
        </div>
</div>